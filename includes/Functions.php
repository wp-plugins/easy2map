<?php

eval(base64_decode('aWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Vhc3kybWFwX3JldHJpZXZlX21hcF9waW5zX2NhbGxiYWNrJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX3JldHJpZXZlX21hcF9waW5zX2NhbGxiYWNrKCkgewoKICAgICAgICBnbG9iYWwgJHdwZGI7CiAgICAgICAgJG1hcFBvaW50c1RhYmxlID0gJHdwZGItPnByZWZpeCAuICJlYXN5Mm1hcF9tYXBfcG9pbnRzIjsKICAgICAgICAkcmV0dXJuVmFsdWUgPSBhcnJheSgpOwogICAgICAgICRtYXBJRCA9ICRfUkVRVUVTVFsiTWFwSUQiXTsKCiAgICAgICAgJG1hcFBpbnMgPSAkd3BkYi0+Z2V0X3Jlc3VsdHMoJHdwZGItPnByZXBhcmUoIlNFTEVDVCAqIAogICAgICAgIEZST00gJG1hcFBvaW50c1RhYmxlIAogICAgICAgIFdIRVJFIE1hcElEID0gJyVzJyAKICAgICAgICBPUkRFUiBCWSBUaXRsZTsiLCAkbWFwSUQpKTsKCiAgICAgICAgZm9yZWFjaCAoJG1hcFBpbnMgYXMgJG1hcFBpbikgewoKICAgICAgICAgICAgJG1hcFBvaW50ID0gbmV3IGUybU1hdGNoZWRQb2ludCgkbWFwUGluLT5JRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYXBQaW4tPkxhdExvbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWFwUGluLT5UaXRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtYXBQaW4tPlBpbkltYWdlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBjc2xhc2hlcygkbWFwUGluLT5TZXR0aW5ncyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGNzbGFzaGVzKCRtYXBQaW4tPkRldGFpbHNIVE1MKSk7CgogICAgICAgICAgICBhcnJheV9wdXNoKCRyZXR1cm5WYWx1ZSwgJG1hcFBvaW50KTsKICAgICAgICB9CgogICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJHJldHVyblZhbHVlKTsKICAgICAgICBkaWU7CiAgICB9CgplbmRpZjsKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdlYXN5Mm1hcF9zYXZlX21hcF9wb2x5bGluZXNfY2FsbGJhY2snKSk6CgogICAgZnVuY3Rpb24gZWFzeTJtYXBfc2F2ZV9tYXBfcG9seWxpbmVzX2NhbGxiYWNrKCkgewoKICAgICAgICBnbG9iYWwgJHdwZGI7CiAgICAgICAgJG1hcHNUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwcyI7CiAgICAgICAgJG1hcElEID0gJF9SRVFVRVNUWyJtYXBJRCJdOwogICAgICAgICRQb2x5TGluZXMgPSB1cmxkZWNvZGUoJF9SRVFVRVNUWydQb2x5TGluZXMnXSk7CgogICAgICAgICR3cGRiLT5xdWVyeShzcHJpbnRmKCJVUERBVEUgJG1hcHNUYWJsZQogICAgICAgIFNFVCBQb2x5TGluZXMgPSAnJXMnCiAgICAgICAgV0hFUkUgSUQgPSAnJXMnOyIsICRQb2x5TGluZXMsICRtYXBJRCkpOwoKICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCIiKTsKICAgICAgICBkaWU7CiAgICB9CgplbmRpZjsKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdlYXN5Mm1hcF9kZWxldGVfbWFwX3BvaW50X2NhbGxiYWNrJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX2RlbGV0ZV9tYXBfcG9pbnRfY2FsbGJhY2soKSB7CgogICAgICAgIGdsb2JhbCAkd3BkYjsKICAgICAgICAkbWFwUG9pbnRzVGFibGUgPSAkd3BkYi0+cHJlZml4IC4gImVhc3kybWFwX21hcF9wb2ludHMiOwogICAgICAgICRtYXBQb2ludElEID0gJF9SRVFVRVNUWyJNYXBQb2ludElEIl07CiAgICAgICAgJHdwZGItPnF1ZXJ5KCR3cGRiLT5wcmVwYXJlKCJERUxFVEUgRlJPTSAkbWFwUG9pbnRzVGFibGUgV0hFUkUgSUQgPSAnJXMnOyIsICRtYXBQb2ludElEKSk7CiAgICAgICAgZWNobyBqc29uX2VuY29kZSgiIik7CiAgICAgICAgZGllOwogICAgfQoKZW5kaWY7CgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnZWFzeTJtYXBfZGVsZXRlX21hcCcpKToKCiAgICBmdW5jdGlvbiBlYXN5Mm1hcF9kZWxldGVfbWFwKCRtYXBJRCkgewoKICAgICAgICBnbG9iYWwgJHdwZGI7CiAgICAgICAgJG1hcFBvaW50c1RhYmxlID0gJHdwZGItPnByZWZpeCAuICJlYXN5Mm1hcF9tYXBfcG9pbnRzIjsKICAgICAgICAkbWFwc1RhYmxlID0gJHdwZGItPnByZWZpeCAuICJlYXN5Mm1hcF9tYXBzIjsKICAgICAgICAkd3BkYi0+cXVlcnkoJHdwZGItPnByZXBhcmUoIkRFTEVURSBGUk9NICRtYXBQb2ludHNUYWJsZSBXSEVSRSBNYXBJRCA9ICclcyc7IiwgJG1hcElEKSk7CiAgICAgICAgJHdwZGItPnF1ZXJ5KCR3cGRiLT5wcmVwYXJlKCJERUxFVEUgRlJPTSAkbWFwc1RhYmxlIFdIRVJFIElEID0gJyVzJzsiLCAkbWFwSUQpKTsKICAgIH0KCmVuZGlmOwoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Vhc3kybWFwX3NhdmVfZGVmYXVsdF9waW5faW1hZ2VfY2FsbGJhY2snKSk6CgogICAgZnVuY3Rpb24gZWFzeTJtYXBfc2F2ZV9kZWZhdWx0X3Bpbl9pbWFnZV9jYWxsYmFjaygpIHsKCiAgICAgICAgZ2xvYmFsICR3cGRiOwogICAgICAgICRtYXBUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwcyI7CgogICAgICAgICRNYXBJRCA9ICRfUkVRVUVTVFsnTWFwSUQnXTsKICAgICAgICAkTWFwUGluSW1hZ2UgPSB1cmxkZWNvZGUoJF9SRVFVRVNUWydQaW5JbWFnZSddKTsKICAgICAgICAkd3BkYi0+cXVlcnkoJHdwZGItPnByZXBhcmUoIlVQREFURSAkbWFwVGFibGUgU0VUIERlZmF1bHRQaW5JbWFnZSA9ICclcycgV0hFUkUgSUQgPSAnJXMnOyIsIHN0cmlwY3NsYXNoZXMoJE1hcFBpbkltYWdlKSwgJE1hcElEKSk7CiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkTWFwUGluSW1hZ2UpOwogICAgICAgIGRpZTsKICAgIH0KCmVuZGlmOwoKZnVuY3Rpb24gZWFzeTJtYXBfZ2V0X3BsdWdpbl91cmwoJGZpbGVBbmRMb2NhdGlvbikgewogICAgcmV0dXJuIHBsdWdpbnNfdXJsKCRmaWxlQW5kTG9jYXRpb24sIGRpcm5hbWUoX19GSUxFX18pKTsKfQoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Vhc3kybWFwX3NhdmVfbWFwX3BpbicpKToKCiAgICBmdW5jdGlvbiBlYXN5Mm1hcF9zYXZlX21hcF9waW4oKSB7CgogICAgICAgIGdsb2JhbCAkd3BkYjsKICAgICAgICBnbG9iYWwgJGN1cnJlbnRfdXNlcjsKICAgICAgICAkY3VycmVudF91c2VyID0gd3BfZ2V0X2N1cnJlbnRfdXNlcigpOwogICAgICAgICRtYXBQb2ludHNUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwX3BvaW50cyI7CiAgICAgICAgJG1hcHNUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwcyI7CgogICAgICAgIGlmIChpc3NldCgkX1JFUVVFU1RbIm1hcFBvaW50SUQiXSkgJiYgKGludCkgJF9SRVFVRVNUWyJtYXBQb2ludElEIl0gIT0gMCkgewoKICAgICAgICAgICAgLy90aGlzIGlzIGEgbWFwIHBpbiB1cGRhdGUKCiAgICAgICAgICAgICRtYXBQb2ludElEID0gJF9SRVFVRVNUWyJtYXBQb2ludElEIl07CgogICAgICAgICAgICBpZiAoISR3cGRiLT5xdWVyeSgkd3BkYi0+cHJlcGFyZSgiCiAgICAgICAgICAgICAgICBVUERBVEUgJG1hcFBvaW50c1RhYmxlCiAgICAgICAgICAgICAgICBTRVQgTGF0TG9uZyA9ICclcycsIFBpbkltYWdlVVJMID0gJyVzJywgCiAgICAgICAgICAgICAgICBUaXRsZSA9ICclcycsIFNldHRpbmdzID0gJyVzJywgRGV0YWlsc0hUTUwgPSAnJXMnCiAgICAgICAgICAgICAgICBXSEVSRSBJRCA9ICVzOyIsIAogICAgICAgICAgICAgICAgICAgICRfUkVRVUVTVFsnbGF0TG9uZyddLCAKICAgICAgICAgICAgICAgICAgICB1cmxkZWNvZGUoJF9SRVFVRVNUWydpY29uJ10pLCAKICAgICAgICAgICAgICAgICAgICAkX1JFUVVFU1RbJ3BpblRpdGxlJ10sIAogICAgICAgICAgICAgICAgICAgICRfUkVRVUVTVFsncGluU2V0dGluZ3NYTUwnXSwgCiAgICAgICAgICAgICAgICAgICAgdXJsZGVjb2RlKCRfUkVRVUVTVFsicGluSFRNTCJdKSwgCiAgICAgICAgICAgICAgICAgICAgJG1hcFBvaW50SUQpKSkgewogICAgICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZSgwKTsKICAgICAgICAgICAgICAgIGRpZTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAkd3BkYi0+cXVlcnkoJHdwZGItPnByZXBhcmUoIgogICAgICAgICAgICBVUERBVEUgJG1hcHNUYWJsZQogICAgICAgICAgICBTRVQgaXNBY3RpdmUgPSAxCiAgICAgICAgICAgIFdIRVJFIElEID0gJXM7IiwgJF9SRVFVRVNUWyJtYXBJRCJdKSk7CgogICAgICAgICAgICAvL3RoaXMgaXMgYSBtYXAgcGluIGluc2VydAogICAgICAgICAgICAkd3BkYi0+cXVlcnkoJHdwZGItPnByZXBhcmUoIgogICAgICAgICAgICBJTlNFUlQgSU5UTyAkbWFwUG9pbnRzVGFibGUoCiAgICAgICAgICAgICAgICBNYXBJRAogICAgICAgICAgICAgICAgLENyZWF0ZWRCeVVzZXJJRAogICAgICAgICAgICAgICAgLExhdExvbmcKICAgICAgICAgICAgICAgICxUaXRsZQogICAgICAgICAgICAgICAgLFBpbkltYWdlVVJMCiAgICAgICAgICAgICAgICAsU2V0dGluZ3MKICAgICAgICAgICAgICAgICxEZXRhaWxzSFRNTAogICAgICAgICAgICApIFZBTFVFUyAoJXMsICVzLCAnJXMnLCAnJXMnLCAKICAgICAgICAgICAgICAgICclcycsICclcycsICclcycpOyIsICRfUkVRVUVTVFsibWFwSUQiXSwgJGN1cnJlbnRfdXNlci0+SUQsICRfUkVRVUVTVFsnbGF0TG9uZyddLCAkX1JFUVVFU1RbJ3BpblRpdGxlJ10sICRfUkVRVUVTVFsnaWNvbiddLCAkX1JFUVVFU1RbJ3BpblNldHRpbmdzWE1MJ10sICRfUkVRVUVTVFsicGluSFRNTCJdKSk7CgogICAgICAgICAgICAkbWFwUG9pbnRJRCA9ICR3cGRiLT5pbnNlcnRfaWQ7CiAgICAgICAgfQoKICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRtYXBQb2ludElEKTsKICAgICAgICBkaWU7CiAgICB9CgplbmRpZjsKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdlYXN5Mm1hcF91cGRhdGVfbWFwX3Bpbl9sb2NhdGlvbicpKToKCiAgICBmdW5jdGlvbiBlYXN5Mm1hcF91cGRhdGVfbWFwX3Bpbl9sb2NhdGlvbigpIHsKCiAgICAgICAgZ2xvYmFsICR3cGRiOwogICAgICAgICRtYXBQb2ludHNUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwX3BvaW50cyI7CgogICAgICAgICR3cGRiLT5xdWVyeSgkd3BkYi0+cHJlcGFyZSgiCiAgICAgICAgVVBEQVRFICRtYXBQb2ludHNUYWJsZQogICAgICAgIFNFVCBMYXRMb25nID0gJyVzJwogICAgICAgIFdIRVJFIElEID0gJXM7IiwgJF9SRVFVRVNUWydsYXRMb25nJ10sICRfUkVRVUVTVFsibWFwUG9pbnRJRCJdKSk7CgogICAgICAgIGVjaG8ganNvbl9lbmNvZGUoIiIpOwogICAgICAgIGRpZTsKICAgIH0KCmVuZGlmOwoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Vhc3kybWFwX3NhdmVfbWFwJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX3NhdmVfbWFwKCkgewoKICAgICAgICBnbG9iYWwgJHdwZGI7CiAgICAgICAgZ2xvYmFsICRjdXJyZW50X3VzZXI7CiAgICAgICAgJGN1cnJlbnRfdXNlciA9IHdwX2dldF9jdXJyZW50X3VzZXIoKTsKICAgICAgICAkbWFwSUQgPSAkX1JFUVVFU1RbIm1hcElEIl07CiAgICAgICAgJG1hcHNUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwcyI7CgogICAgICAgIGlmIChpbnR2YWwoJG1hcElEKSAhPSAwKSB7CgogICAgICAgICAgICAvL3RoaXMgaXMgYSBtYXAgdXBkYXRlCiAgICAgICAgICAgICR3cGRiLT5xdWVyeShzcHJpbnRmKCIKICAgICAgICAgICAgICAgIFVQREFURSAkbWFwc1RhYmxlCiAgICAgICAgICAgICAgICBTRVQgVGVtcGxhdGVJRCA9ICclcycsCiAgICAgICAgICAgICAgICAgICAgTWFwTmFtZSA9ICclcycsCiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3MgPSAnJXMnLAogICAgICAgICAgICAgICAgICAgIExhc3RJbnZva2VkID0gQ1VSUkVOVF9USU1FU1RBTVAsCiAgICAgICAgICAgICAgICAgICAgQ1NTVmFsdWVzID0gJyVzJywKICAgICAgICAgICAgICAgICAgICBNYXBIVE1MID0gJyVzJywKICAgICAgICAgICAgICAgICAgICBJc0FjdGl2ZSA9IDEKICAgICAgICAgICAgICAgIFdIRVJFIElEID0gJXM7IiwgJF9SRVFVRVNUWydtYXBUZW1wbGF0ZU5hbWUnXSwgJF9SRVFVRVNUWydtYXBOYW1lJ10sIHVybGRlY29kZSgkX1JFUVVFU1RbJ21hcFNldHRpbmdzWE1MJ10pLCB1cmxkZWNvZGUoJF9SRVFVRVNUWyJtYXBDU1NYTUwiXSksIHVybGRlY29kZSgkX1JFUVVFU1RbIm1hcEhUTUwiXSksICRtYXBJRCkpOwogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAvL3RoaXMgaXMgYSBtYXAgaW5zZXJ0CiAgICAgICAgICAgIGlmICghJHdwZGItPnF1ZXJ5KHNwcmludGYoIgogICAgICAgICAgICBJTlNFUlQgSU5UTyAkbWFwc1RhYmxlKAogICAgICAgICAgICAgICAgVGVtcGxhdGVJRCwKICAgICAgICAgICAgICAgIE1hcE5hbWUsCiAgICAgICAgICAgICAgICBEZWZhdWx0UGluSW1hZ2UsCiAgICAgICAgICAgICAgICBTZXR0aW5ncywKICAgICAgICAgICAgICAgIExhc3RJbnZva2VkLAogICAgICAgICAgICAgICAgUG9seUxpbmVzLAogICAgICAgICAgICAgICAgQ1NTVmFsdWVzLAogICAgICAgICAgICAgICAgTWFwSFRNTCwKICAgICAgICAgICAgICAgIElzQWN0aXZlCiAgICAgICAgICAgICkgVkFMVUVTICgnJXMnLCAnJXMnLCAnJXMnLCAnJXMnLCBDVVJSRU5UX1RJTUVTVEFNUCwgJyVzJywgJyVzJywgJyVzJywgMCk7IiwgJF9SRVFVRVNUWydtYXBUZW1wbGF0ZU5hbWUnXSwgJF9SRVFVRVNUWydtYXBOYW1lJ10sIHN0cl9yZXBsYWNlKCdpbmRleC5waHAnLCAnJywgZWFzeTJtYXBfZ2V0X3BsdWdpbl91cmwoJy9pbmRleC5waHAnKSkgLiAiaW1hZ2VzL21hcF9waW5zL3BpbnMvMTExLnBuZyIsIHVybGRlY29kZSgkX1JFUVVFU1RbJ21hcFNldHRpbmdzWE1MJ10pLCAnJywgdXJsZGVjb2RlKCRfUkVRVUVTVFsibWFwQ1NTWE1MIl0pLCB1cmxkZWNvZGUoJF9SRVFVRVNUWyJtYXBIVE1MIl0pKSkpIHsKICAgICAgICAgICAgICAgIGRpZSgiRXJyb3IhIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRuZXdSb3cgPSAkd3BkYi0+Z2V0X3Jlc3VsdHMoIlNFTEVDVCBMQVNUX0lOU0VSVF9JRCgpIEFTIE5ld01hcElEOyIpOwoKICAgICAgICAgICAgZm9yZWFjaCAoJG5ld1JvdyBhcyAkcm93KSB7CgogICAgICAgICAgICAgICAgJG1hcElEID0gJHJvdy0+TmV3TWFwSUQ7CgogICAgICAgICAgICAgICAgJGltYWdlc0RpcmVjdG9yeSA9IFdQX0NPTlRFTlRfRElSIC4gIi91cGxvYWRzLyI7CgogICAgICAgICAgICAgICAgaWYgKCFpc19kaXIoJGltYWdlc0RpcmVjdG9yeSkpIHsKICAgICAgICAgICAgICAgICAgICBta2RpcigkaW1hZ2VzRGlyZWN0b3J5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkaW1hZ2VzRGlyZWN0b3J5ID0gV1BfQ09OVEVOVF9ESVIgLiAiL3VwbG9hZHMvZWFzeTJtYXAvIjsKCiAgICAgICAgICAgICAgICBpZiAoIWlzX2RpcigkaW1hZ2VzRGlyZWN0b3J5KSkgewogICAgICAgICAgICAgICAgICAgIG1rZGlyKCRpbWFnZXNEaXJlY3RvcnkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpbWFnZXNEaXJlY3RvcnkgPSBXUF9DT05URU5UX0RJUiAuICIvdXBsb2Fkcy9lYXN5Mm1hcC9pbWFnZXMvIjsKCiAgICAgICAgICAgICAgICBpZiAoIWlzX2RpcigkaW1hZ2VzRGlyZWN0b3J5KSkgewogICAgICAgICAgICAgICAgICAgIG1rZGlyKCRpbWFnZXNEaXJlY3RvcnkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpbWFnZXNEaXJlY3RvcnkgPSBXUF9DT05URU5UX0RJUiAuICIvdXBsb2Fkcy9lYXN5Mm1hcC9pbWFnZXMvbWFwX3BpbnMvIjsKCiAgICAgICAgICAgICAgICBpZiAoIWlzX2RpcigkaW1hZ2VzRGlyZWN0b3J5KSkgewogICAgICAgICAgICAgICAgICAgIG1rZGlyKCRpbWFnZXNEaXJlY3RvcnkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpbWFnZXNEaXJlY3RvcnkgPSBXUF9DT05URU5UX0RJUiAuICIvdXBsb2Fkcy9lYXN5Mm1hcC9pbWFnZXMvbWFwX3BpbnMvdXBsb2FkZWQvIjsKCiAgICAgICAgICAgICAgICBpZiAoIWlzX2RpcigkaW1hZ2VzRGlyZWN0b3J5KSkgewogICAgICAgICAgICAgICAgICAgIG1rZGlyKCRpbWFnZXNEaXJlY3RvcnkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpbWFnZXNEaXJlY3RvcnkgPSBXUF9DT05URU5UX0RJUiAuICIvdXBsb2Fkcy9lYXN5Mm1hcC9pbWFnZXMvbWFwX3BpbnMvdXBsb2FkZWQvIiAuICRtYXBJRCAuICIvIjsKCiAgICAgICAgICAgICAgICBpZiAoIWlzX2RpcigkaW1hZ2VzRGlyZWN0b3J5KSkgewogICAgICAgICAgICAgICAgICAgIG1rZGlyKCRpbWFnZXNEaXJlY3RvcnkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRtYXBJRCk7CiAgICAgICAgZGllOwogICAgfQoKZW5kaWY7CgoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Vhc3kybWFwX3NhdmVfbWFwX25hbWUnKSk6CgogICAgZnVuY3Rpb24gZWFzeTJtYXBfc2F2ZV9tYXBfbmFtZSgpIHsKCiAgICAgICAgZ2xvYmFsICR3cGRiOwogICAgICAgICRtYXBJRCA9ICRfUkVRVUVTVFsibWFwSUQiXTsKICAgICAgICAkbWFwc1RhYmxlID0gJHdwZGItPnByZWZpeCAuICJlYXN5Mm1hcF9tYXBzIjsKCiAgICAgICAgJHdwZGItPnF1ZXJ5KHNwcmludGYoIgogICAgICAgICAgICBVUERBVEUgJG1hcHNUYWJsZQogICAgICAgICAgICBTRVQgTWFwTmFtZSA9ICclcycsCiAgICAgICAgICAgIExhc3RJbnZva2VkID0gQ1VSUkVOVF9USU1FU1RBTVAsCiAgICAgICAgICAgIElzQWN0aXZlID0gMQogICAgICAgICAgICBXSEVSRSBJRCA9ICVzOyIsICRfUkVRVUVTVFsnbWFwTmFtZSddLCAkbWFwSUQpKTsKCiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkbWFwSUQpOwogICAgICAgIGRpZTsKICAgIH0KCmVuZGlmOwoKCgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnZWFzeTJtYXBfcmV0cmlldmVfcGluX2ljb25zX2NhbGxiYWNrJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX3JldHJpZXZlX3Bpbl9pY29uc19jYWxsYmFjaygpIHsKCiAgICAgICAgJGFyckltYWdlcyA9IGFycmF5KCk7CgogICAgICAgIC8vcmV0cmlldmUgbWFwIHBpbnMKICAgICAgICAkZGlyUGlucyA9IEVBU1kyTUFQX1BMVUdJTl9ESVIgLiAiL2ltYWdlcy9tYXBfcGlucy9waW5zLyI7CiAgICAgICAgJHVybFBpbnMgPSBwbHVnaW5zX3VybCgnL2ltYWdlcy9tYXBfcGlucy9waW5zLycsIGRpcm5hbWUoX19GSUxFX18pIC4gJy8nKTsKCiAgICAgICAgaWYgKCRoYW5kbGVQaW5zID0gb3BlbmRpcigkZGlyUGlucykpIHsKCiAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgZGlyZWN0b3J5IGVudHJpZXMKICAgICAgICAgICAgd2hpbGUgKGZhbHNlICE9PSAoJGVudHJ5ID0gcmVhZGRpcigkaGFuZGxlUGlucykpKSB7CgogICAgICAgICAgICAgICAgLy8gbWF0Y2ggb24gLnBocCBleHRlbnNpb24KICAgICAgICAgICAgICAgIGlmIChwcmVnX21hdGNoKCIvXC5wbmckLyIsICRlbnRyeSkpIHsKICAgICAgICAgICAgICAgICAgICBhcnJheV9wdXNoKCRhcnJJbWFnZXMsICR1cmxQaW5zIC4gJGVudHJ5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocHJlZ19tYXRjaCgiL1wuanBnJC8iLCAkZW50cnkpKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXlfcHVzaCgkYXJySW1hZ2VzLCAkdXJsUGlucyAuICRlbnRyeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHByZWdfbWF0Y2goIi9cLmdpZiQvIiwgJGVudHJ5KSkgewogICAgICAgICAgICAgICAgICAgIGFycmF5X3B1c2goJGFyckltYWdlcywgJHVybFBpbnMgLiAkZW50cnkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBjbG9zZSB0aGUgZGlyZWN0b3J5CiAgICAgICAgICAgIGNsb3NlZGlyKCRoYW5kbGVQaW5zKTsKICAgICAgICB9CgogICAgICAgIC8vcmV0cmlldmUgdXBsb2FkZWQgZmlsZXMKICAgICAgICBpZiAoKGludCkgJF9SRVFVRVNUWydtYXBJRCddICE9IDApIHsKICAgICAgICAgICAgJGRpclVwbG9hZGVkID0gV1BfQ09OVEVOVF9ESVIgLiAiL3VwbG9hZHMvZWFzeTJtYXAvaW1hZ2VzL21hcF9waW5zL3VwbG9hZGVkLyIgLiAkX1JFUVVFU1RbJ21hcElEJ10gLiAiLyI7CiAgICAgICAgICAgICR1cmxVcGxvYWRlZCA9IFdQX0NPTlRFTlRfVVJMIC4gIi91cGxvYWRzL2Vhc3kybWFwL2ltYWdlcy9tYXBfcGlucy91cGxvYWRlZC8iIC4gJF9SRVFVRVNUWydtYXBJRCddIC4gIi8iOwoKICAgICAgICAgICAgaWYgKCRoYW5kbGVVcGxvYWRlZCA9IG9wZW5kaXIoJGRpclVwbG9hZGVkKSkgewoKICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgZGlyZWN0b3J5IGVudHJpZXMKICAgICAgICAgICAgICAgIHdoaWxlIChmYWxzZSAhPT0gKCRlbnRyeSA9IHJlYWRkaXIoJGhhbmRsZVVwbG9hZGVkKSkpIHsKCiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2ggb24gLnBocCBleHRlbnNpb24KICAgICAgICAgICAgICAgICAgICBpZiAocHJlZ19tYXRjaCgiL1wucG5nJC8iLCAkZW50cnkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5X3B1c2goJGFyckltYWdlcywgJHVybFVwbG9hZGVkIC4gJGVudHJ5KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChwcmVnX21hdGNoKCIvXC5qcGckLyIsICRlbnRyeSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlfcHVzaCgkYXJySW1hZ2VzLCAkdXJsVXBsb2FkZWQgLiAkZW50cnkpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWdfbWF0Y2goIi9cLmdpZiQvIiwgJGVudHJ5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcnJheV9wdXNoKCRhcnJJbWFnZXMsICR1cmxVcGxvYWRlZCAuICRlbnRyeSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBkaXJlY3RvcnkKICAgICAgICAgICAgICAgIGNsb3NlZGlyKCRoYW5kbGVVcGxvYWRlZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJGFyckltYWdlcyk7CiAgICAgICAgZGllOwogICAgfQoKZW5kaWY7CgoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Vhc3kybWFwX3JldHJpZXZlX21hcF9zZXR0aW5ncycpKToKCiAgICBmdW5jdGlvbiBlYXN5Mm1hcF9yZXRyaWV2ZV9tYXBfc2V0dGluZ3MoJG1hcElEKSB7CgogICAgICAgIGdsb2JhbCAkd3BkYjsKICAgICAgICAkbWFwVGFibGUgPSAkd3BkYi0+cHJlZml4IC4gImVhc3kybWFwX21hcHMiOwoKICAgICAgICBpZiAoaW50dmFsKCRtYXBJRCkgPT09IDApIHsKCiAgICAgICAgICAgICRzZXR0aW5ncyA9IG5ldyBlMm1NYXBJdGVtKCIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyX3JlcGxhY2UoJ2luZGV4LnBocCcsICcnLCBlYXN5Mm1hcF9nZXRfcGx1Z2luX3VybCgnL2luZGV4LnBocCcpKSAuICJpbWFnZXMvbWFwX3BpbnMvcGlucy8xMTEucG5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c2V0dGluZ3MgbGF0dGl0dWRlPSI5LjUxMTE5MzYzMDE1NTkxIiBsb25naXR1ZGU9IjE1LjE5MTE5MDY0MzcyNTYwNSIgem9vbT0iMiIgY2x1c3RlcnBpbnM9IjEiIG1hcFR5cGU9IlJPQURNQVAiIHdpZHRoPSI4MDAiIGhlaWdodD0iNjAwIiBiYWNrZ3JvdW5kQ29sb3I9IkI1MjkzMiIgZHJhZ2dhYmxlPSIxIiBzY3JvbGxXaGVlbD0iMSIgbWFwVHlwZUNvbnRyb2w9IjEiIG1hcFR5cGVDb250cm9sX3N0eWxlPSJEUk9QRE9XTl9NRU5VIiBtYXBUeXBlQ29udHJvbF9wb3NpdGlvbj0iVE9QX1JJR0hUIiBwYW5Db250cm9sPSIxIiBwYW5Db250cm9sX3Bvc2l0aW9uPSJUT1BfTEVGVCIgcm90YXRlQ29udHJvbD0iMSIgcm90YXRlQ29udHJvbF9wb3NpdGlvbj0iVE9QX0xFRlQiIHNjYWxlQ29udHJvbD0iMSIgc2NhbGVDb250cm9sX3Bvc2l0aW9uPSJUT1BfTEVGVCIgc3RyZWV0Vmlld0NvbnRyb2w9IjEiIHN0cmVldFZpZXdDb250cm9sX3Bvc2l0aW9uPSJUT1BfTEVGVCIgem9vbUNvbnRyb2w9IjEiIHpvb21Db250cm9sX3Bvc2l0aW9uPSJUT1BfTEVGVCIgem9vbUNvbnRyb2xfc3R5bGU9IkxBUkdFIiBwb2x5bGluZV9zdHJva2Vjb2xvcj0iMDAwMDAwIiBwb2x5bGluZV9vcGFjaXR5PSIxLjAiIHBvbHlsaW5lX3N0cm9rZXdlaWdodD0iMSIvPicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJywgJycpOwoKICAgICAgICAgICAgcmV0dXJuICRzZXR0aW5nczsKICAgICAgICB9CgogICAgICAgICRtYXBTZXR0aW5ncyA9ICR3cGRiLT5nZXRfcmVzdWx0cygkd3BkYi0+cHJlcGFyZSgiU0VMRUNUICogCiAgICAgICAgRlJPTSAkbWFwVGFibGUgCiAgICAgICAgV0hFUkUgSUQgPSAnJXMnOyIsICRtYXBJRCkpOwoKICAgICAgICBmb3JlYWNoICgkbWFwU2V0dGluZ3MgYXMgJHJvdykgewoKICAgICAgICAgICAgJHNldHRpbmdzID0gbmV3IGUybU1hcEl0ZW0oJHJvdy0+SUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm93LT5UZW1wbGF0ZUlELAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdy0+TWFwTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3ctPkRlZmF1bHRQaW5JbWFnZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb3ctPlNldHRpbmdzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdy0+Q1NTVmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvdy0+UG9seUxpbmVzKTsKCiAgICAgICAgICAgIHJldHVybiAkc2V0dGluZ3M7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCmVuZGlmOwoKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdlYXN5Mm1hcF9yZXRyaWV2ZV9tYXBfSFRNTCcpKToKCiAgICBmdW5jdGlvbiBlYXN5Mm1hcF9yZXRyaWV2ZV9tYXBfSFRNTCgkbWFwSUQpIHsKCiAgICAgICAgZ2xvYmFsICR3cGRiOwogICAgICAgICRtYXBUYWJsZSA9ICR3cGRiLT5wcmVmaXggLiAiZWFzeTJtYXBfbWFwcyI7CgogICAgICAgICRtYXBIVE1MID0gJHdwZGItPmdldF9yZXN1bHRzKCR3cGRiLT5wcmVwYXJlKCJTRUxFQ1QgTWFwSFRNTCAKICAgICAgICBGUk9NICRtYXBUYWJsZSAKICAgICAgICBXSEVSRSBJRCA9ICclcyc7IiwgJG1hcElEKSk7CgogICAgICAgIGZvcmVhY2ggKCRtYXBIVE1MIGFzICRyb3cpIHsKICAgICAgICAgICAgcmV0dXJuICRyb3ctPk1hcEhUTUw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIiI7CiAgICB9CgplbmRpZjsKCgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnZWFzeTJtYXBfcmV0cmlldmVfbWFwX3NldHRpbmdzX2NhbGxiYWNrJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX3JldHJpZXZlX21hcF9zZXR0aW5nc19jYWxsYmFjaygpIHsKCiAgICAgICAgJG1hcElEID0gJF9SRVFVRVNUWyJtYXBJRCJdOwogICAgICAgICRzZXR0aW5ncyA9IGVhc3kybWFwX3JldHJpZXZlX21hcF9zZXR0aW5ncygkbWFwSUQpOwogICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJHNldHRpbmdzKTsKICAgICAgICBkaWU7CiAgICB9CgplbmRpZjsKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdlYXN5Mm1hcF9yZXRyaWV2ZV9tYXBfdGVtcGxhdGVzX2NhbGxiYWNrJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX3JldHJpZXZlX21hcF90ZW1wbGF0ZXNfY2FsbGJhY2soKSB7CgogICAgICAgIGdsb2JhbCAkd3BkYjsKICAgICAgICAkbWFwc1RhYmxlID0gJHdwZGItPnByZWZpeCAuICJlYXN5Mm1hcF9tYXBzIjsKICAgICAgICAkdGVtcGxhdGVzVGFibGUgPSAkd3BkYi0+cHJlZml4IC4gImVhc3kybWFwX3RlbXBsYXRlcyI7CiAgICAgICAgJHJldHVyblZhbHVlID0gYXJyYXkoKTsKICAgICAgICAkbWFwSUQgPSAkX1JFUVVFU1RbIm1hcElEIl07CgogICAgICAgICR0ZW1wbGF0ZXMgPSAkd3BkYi0+Z2V0X3Jlc3VsdHMoJHdwZGItPnByZXBhcmUoIlNFTEVDVCBBLklELCAKICAgICAgICAgICAgSUZOVUxMKEIuVGVtcGxhdGVJRCw5NCkgQVMgU2VsZWN0ZWRUZW1wbGF0ZSwKICAgICAgICAgICAgQS5UZW1wbGF0ZU5hbWUsIEEuRXhhbXBsZUltYWdlLCBJRk5VTEwoQi5DU1NWYWx1ZXMsIEEuQ1NTVmFsdWVzKSBBUyBDU1NWYWx1ZXMKICAgICAgICAgICAgLElGTlVMTChCLk1hcEhUTUwsIEEuVGVtcGxhdGVIVE1MKSBBUyBUZW1wbGF0ZUhUTUwsIAogICAgICAgICAgICBJRk5VTEwoQS5TdHlsZVBhcmVudE9ubHksMCkgQVMgU3R5bGVQYXJlbnRPbmx5CiAgICAgICAgICAgIEZST00gJHRlbXBsYXRlc1RhYmxlIEEKICAgICAgICAgICAgTEVGVCBKT0lOICRtYXBzVGFibGUgQiBPTiAoQS5JRCA9IEIuVGVtcGxhdGVJRCBBTkQgQi5JRCA9ICVzKQogICAgICAgICAgICBXSEVSRSBBLkFjdGl2ZSA9IDEgICAgCiAgICAgICAgICAgIE9SREVSIEJZIEEuRGlzcGxheU9yZGVyOyIsICRtYXBJRCkpOwoKICAgICAgICBmb3JlYWNoICgkdGVtcGxhdGVzIGFzICR0ZW1wbGF0ZSkgewoKICAgICAgICAgICAgJG1hcFRlbXBsYXRlID0gbmV3IGUybU1hcFRlbXBsYXRlKCR0ZW1wbGF0ZS0+SUQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGVtcGxhdGUtPlNlbGVjdGVkVGVtcGxhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGVtcGxhdGUtPlRlbXBsYXRlTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0ZW1wbGF0ZS0+RXhhbXBsZUltYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBjc2xhc2hlcygkdGVtcGxhdGUtPkNTU1ZhbHVlcyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGNzbGFzaGVzKCR0ZW1wbGF0ZS0+VGVtcGxhdGVIVE1MKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0ZW1wbGF0ZS0+U3R5bGVQYXJlbnRPbmx5KTsKCiAgICAgICAgICAgIGFycmF5X3B1c2goJHJldHVyblZhbHVlLCAkbWFwVGVtcGxhdGUpOwogICAgICAgIH0KCiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmV0dXJuVmFsdWUpOwogICAgICAgIGRpZTsKICAgIH0KCmVuZGlmOwoKCmlmICghZnVuY3Rpb25fZXhpc3RzKCdlYXN5Mm1hcF9yZXRyaWV2ZV9tYXBwaW5fdGVtcGxhdGVzX2NhbGxiYWNrJykpOgoKICAgIGZ1bmN0aW9uIGVhc3kybWFwX3JldHJpZXZlX21hcHBpbl90ZW1wbGF0ZXNfY2FsbGJhY2soKSB7CgogICAgICAgIGdsb2JhbCAkd3BkYjsKICAgICAgICAkdGVtcGxhdGVzVGFibGUgPSAkd3BkYi0+cHJlZml4IC4gImVhc3kybWFwX3Bpbl90ZW1wbGF0ZXMiOwogICAgICAgICRyZXR1cm5WYWx1ZSA9IGFycmF5KCk7CgogICAgICAgICR0ZW1wbGF0ZXMgPSAkd3BkYi0+Z2V0X3Jlc3VsdHMoIlNFTEVDVCAqIEZST00gJHRlbXBsYXRlc1RhYmxlCiAgICAgICAgT1JERVIgQlkgVGVtcGxhdGVOYW1lIik7CgogICAgICAgIGZvcmVhY2ggKCR0ZW1wbGF0ZXMgYXMgJHRlbXBsYXRlKSB7CgogICAgICAgICAgICAkbWFwVGVtcGxhdGUgPSBuZXcgZTJtTWFwUGluVGVtcGxhdGUoJHRlbXBsYXRlLT5JRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0ZW1wbGF0ZS0+VGVtcGxhdGVOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBjc2xhc2hlcygkdGVtcGxhdGUtPlRlbXBsYXRlSFRNTCkpOwoKICAgICAgICAgICAgYXJyYXlfcHVzaCgkcmV0dXJuVmFsdWUsICRtYXBUZW1wbGF0ZSk7CiAgICAgICAgfQoKICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXR1cm5WYWx1ZSk7CiAgICAgICAgZGllOwogICAgfQoKZW5kaWY7CgpjbGFzcyBlMm1NYXBJdGVtIHsKCiAgICBwdWJsaWMgJElEOwogICAgcHVibGljICRUZW1wbGF0ZUlEOwogICAgcHVibGljICRNYXBOYW1lOwogICAgcHVibGljICREZWZhdWx0UGluSW1hZ2U7CiAgICBwdWJsaWMgJFNldHRpbmdzOwogICAgcHVibGljICRDU1NWYWx1ZXM7CiAgICBwdWJsaWMgJFBvbHlMaW5lczsKCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJElELCAkVGVtcGxhdGVJRCwgJE1hcE5hbWUsICREZWZhdWx0UGluSW1hZ2UsICRTZXR0aW5ncywgJENTU1ZhbHVlcywgJFBvbHlMaW5lcykgewogICAgICAgICR0aGlzLT5JRCA9ICRJRDsKICAgICAgICAkdGhpcy0+VGVtcGxhdGVJRCA9ICRUZW1wbGF0ZUlEOwogICAgICAgICR0aGlzLT5NYXBOYW1lID0gJE1hcE5hbWU7CiAgICAgICAgJHRoaXMtPkRlZmF1bHRQaW5JbWFnZSA9ICREZWZhdWx0UGluSW1hZ2U7CiAgICAgICAgJHRoaXMtPlNldHRpbmdzID0gJFNldHRpbmdzOwogICAgICAgICR0aGlzLT5DU1NWYWx1ZXMgPSAkQ1NTVmFsdWVzOwogICAgICAgICR0aGlzLT5Qb2x5TGluZXMgPSAkUG9seUxpbmVzOwogICAgfQoKfQoKY2xhc3MgZTJtTWFwVGVtcGxhdGUgewoKICAgIHB1YmxpYyAkSUQ7CiAgICBwdWJsaWMgJFNlbGVjdGVkVGVtcGxhdGU7CiAgICBwdWJsaWMgJFRlbXBsYXRlTmFtZTsKICAgIHB1YmxpYyAkRXhhbXBsZUltYWdlOwogICAgcHVibGljICRDU1NWYWx1ZXM7CiAgICBwdWJsaWMgJFRlbXBsYXRlSFRNTDsKICAgIHB1YmxpYyAkU3R5bGVQYXJlbnRPbmx5OwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkSUQsICRTZWxlY3RlZFRlbXBsYXRlLCAkVGVtcGxhdGVOYW1lLCAkRXhhbXBsZUltYWdlLCAkQ1NTVmFsdWVzLCAkVGVtcGxhdGVIVE1MLCAkU3R5bGVQYXJlbnRPbmx5KSB7CgogICAgICAgICR0aGlzLT5JRCA9ICRJRDsKICAgICAgICAkdGhpcy0+U2VsZWN0ZWRUZW1wbGF0ZSA9ICRTZWxlY3RlZFRlbXBsYXRlOwogICAgICAgICR0aGlzLT5UZW1wbGF0ZU5hbWUgPSAkVGVtcGxhdGVOYW1lOwogICAgICAgICR0aGlzLT5FeGFtcGxlSW1hZ2UgPSAkRXhhbXBsZUltYWdlOwogICAgICAgICR0aGlzLT5DU1NWYWx1ZXMgPSAkQ1NTVmFsdWVzOwogICAgICAgICR0aGlzLT5UZW1wbGF0ZUhUTUwgPSAkVGVtcGxhdGVIVE1MOwogICAgICAgICR0aGlzLT5TdHlsZVBhcmVudE9ubHkgPSAkU3R5bGVQYXJlbnRPbmx5OwogICAgfQoKfQoKY2xhc3MgZTJtTWFwUGluVGVtcGxhdGUgewoKICAgIHB1YmxpYyAkSUQ7CiAgICBwdWJsaWMgJFRlbXBsYXRlTmFtZTsKICAgIHB1YmxpYyAkVGVtcGxhdGVIVE1MOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkSUQsICRUZW1wbGF0ZU5hbWUsICRUZW1wbGF0ZUhUTUwpIHsKCiAgICAgICAgJHRoaXMtPklEID0gJElEOwogICAgICAgICR0aGlzLT5UZW1wbGF0ZU5hbWUgPSAkVGVtcGxhdGVOYW1lOwogICAgICAgICR0aGlzLT5UZW1wbGF0ZUhUTUwgPSAkVGVtcGxhdGVIVE1MOwogICAgfQoKfQoKY2xhc3MgZTJtTWF0Y2hlZFBvaW50IHsKCiAgICBwdWJsaWMgJElEOwogICAgcHVibGljICRMYXRMb25nOwogICAgcHVibGljICRUaXRsZTsKICAgIHB1YmxpYyAkSW1hZ2VVUkw7CiAgICBwdWJsaWMgJFNldHRpbmdzOwogICAgcHVibGljICRNYXBQaW5IVE1MOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkSUQsICRMYXRMb25nLCAkVGl0bGUsICRJbWFnZVVSTCwgJFNldHRpbmdzLCAkTWFwUGluSFRNTCkgewoKICAgICAgICAkdGhpcy0+SUQgPSAkSUQ7CiAgICAgICAgJHRoaXMtPkxhdExvbmcgPSAkTGF0TG9uZzsKICAgICAgICAkdGhpcy0+VGl0bGUgPSAkVGl0bGU7CiAgICAgICAgJHRoaXMtPkltYWdlVVJMID0gJEltYWdlVVJMOwogICAgICAgICR0aGlzLT5TZXR0aW5ncyA9ICRTZXR0aW5nczsKICAgICAgICAkdGhpcy0+TWFwUGluSFRNTCA9ICRNYXBQaW5IVE1MOwogICAgfQoKfQ=='));

?>
